<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Marshalling prep</title>
    <link rel="icon" type="image/x-icon" href="/favicon/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Librairie A-frame -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <!-- Librairie A-frame Extras -->
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.2.0/dist/aframe-extras.min.js"></script>
</head>
<body>
    <!-- Pièce de 7x7x3 -->
    <a-scene>
        <!-- Pièce -->
            <!-- Sol -->
            <a-box position="0 0 0" width="7" height="0.1" depth="7" color="red"></a-box>
            
            <!-- Plafond -->
            <a-box position="0 3 0" width="7" height="0.1" depth="7.2a" color="blue"></a-box>
            
            <!-- Murs -->
            <a-box position="0 0.5 -3.45" width="7" height="1" depth="0.1" color="green"></a-box>
            <a-plane position="0 2 -3.5" width="7" height="2" depth="0.1" material="color: lightblue; opacity: 0.25"></a-plane>

            <a-box position="0 1.5 3.5" width="7" height="3" depth="0.1" color="yellow"></a-box>  <!-- Back Wall - Yellow -->
            <!-- Mur gauche -->
            <!-- Sommet mur gauche -->
            <a-box position="-3.5 2.8 0" width="0.1" height="0.4" depth="7" color="orange"></a-box>
            <!-- Gauche du mur gauche (direction mur arrière) -->
            <a-box position="-3.5 1.3 1.75" width="0.1" height="2.6" depth="3.5" color="orange"></a-box>
            <!-- Droite du mur gauche (direction mur frontal/fenêtre) -->
            <a-box position="-3.5 1.3 -2.5" width="0.1" height="2.6" depth="2" color="orange"></a-box>

            <a-box position="3.5 1.5 0" width="0.1" height="3" depth="7" color="purple"></a-box>  <!-- Right Wall - Purple -->
        
            <!-- Stores -->
            <a-entity position="0 2 -3.55">
                <!-- Lamelles -->
                <a-box position="0 0.8 0" rotation="-25 0 0" width="7" height="0.02" depth="0.1" material="color: darkgray"></a-box>
                <a-box position="0 0.6 0" rotation="-25 0 0" width="7" height="0.02" depth="0.1" material="color: darkgray"></a-box>
                <a-box position="0 0.4 0" rotation="-25 0 0" width="7" height="0.02" depth="0.1" material="color: darkgray"></a-box>
                <a-box position="0 0.2 0" rotation="-25 0 0" width="7" height="0.02" depth="0.1" material="color: darkgray"></a-box>
                <a-box position="0 0.0 0" rotation="-25 0 0" width="7" height="0.02" depth="0.1" material="color: darkgray"></a-box>
                <!-- Fils -->
                <a-cylinder position="-3.15 0.5 0" radius="0.01" height="1" color="brown"></a-cylinder> 
                <a-cylinder position="3.15 0.5 0" radius="0.01" height="1" color="brown"></a-cylinder>
                <!-- Noeuds/arrêtoirs -->
                <a-cylinder position="-3.15 -0.025 0" rotation="-25 0 0" radius="0.02" height="0.025" color="brown"></a-cylinder> 
                <a-cylinder position="3.15 -0.025 0" rotation="-25 0 0" radius="0.02" height="0.025" color="brown"></a-cylinder>
            </a-entity>

        <!-- Extérieur -->
        <!-- Sol -->
            <a-plane position="0 0 -43" rotation="-90 0 0" width="100" height="80" color="lightgray"></a-plane>
            <!-- Lignes droites perpendiculaires fenêtre -->
            <a-plane position="0 0.01 -15" rotation="-90 -90 0" width="0.5" height="300" color="yellow"></a-plane>
            <a-plane position="0 0.002 -14.7" rotation="-90 -90 0" width="0.1" height="300" color="black"></a-plane>
            <a-plane position="0 0.002 -15.3" rotation="-90 -90 0" width="0.1" height="300" color="black"></a-plane>
            <!-- Virage -->
            <!-- Cercle extérieur noir pour virage -->
            <a-circle position="-7 0.002 -10" rotation="-90 0 0" radius="5.4" color="black" segment ="64"></a-circle>
            <!-- Cercle médian jaune pour virage -->
            <a-circle position="-7 0.003 -10" rotation="-90 0 0" radius="5.3" color="yellow" segment ="64"></a-circle>
            <!-- Cercle intérieur noir pour virage -->
            <a-circle position="-7 0.004 -10" rotation="-90 0 0" radius="4.7" color="black" segment ="64"></a-circle>
            <!-- Cercle gris intérieur pour masquage -->
            <a-circle position="-7 0.005 -10" rotation="-90 0 0" radius="4.62" color="lightgray"></a-circle>
            <!-- Plans gris pour masquage -->
            <a-plane position="-7 0.006 -6.99" rotation="-90 0 0" width="12" height="6" color="lightgray"></a-plane>
            <a-plane position="-3.5 0.007 -11.9" rotation="-90 0 0" width="7" height="5.5" color="lightgray"></a-plane>
            <!-- Lignes noire pour masque reste virage -->
            <a-plane position="-3.5 0.01 -14.7" rotation="-90 -90 0" width="0.1" height="7" color="black"></a-plane>
            <a-plane position="-7 0.01 -15.3" rotation="-90 -90 0" width="0.1" height="300" color="black"></a-plane>
            <!-- Lignes n/j pour reprise du cercle -->
            <a-plane position="-12 0.01 -5.77" rotation="-90 0 0" width="0.6" height="8.45" color="yellow"></a-plane>
            <a-plane position="-12.34 0.02 -5.69" rotation="-90 0 0" width="0.085" height="8.6" color="black"></a-plane>
            <a-plane position="-11.67 0.02 -5.69" rotation="-90 0 0" width="0.085" height="8.6" color="black"></a-plane>
            
            <!-- Définit la caméra dans un rig auquel on peut donner les attributs
        nécessaires au déplacement par gamepad, la vitesse, et contraindre selon une navMesh (
        à voir si le temps sera suffisant pour la définir) -->
        <a-entity
            id="rig"
            position="0 0 0"
            movement-controls="controls: gamepad,keyboard; speed: 0.15; constrainToNavMesh: true">
            <a-camera position="0 1.7 0"></a-camera>
        </a-entity>
      
        <!-- Lumière ambiante simple -->
        <a-light type="ambient" color="#fff"></a-light>
    </a-scene>
      
    <!-- Script perso -->
    <script src="script.js"></script>
</body>
</html>